{"version":3,"file":"markup.test.js","sources":["src/enums.js","src/tests/markup.test.js"],"sourcesContent":["/**\r\n * Console modes\r\n * @enum {string}\r\n */\r\nexport const Mode = {\r\n  LOG: `log`,\r\n  DIR: `dir`,\r\n  PREVIEW: `preview`,\r\n  PROP: `prop`,\r\n  ERROR: `error`,\r\n  LOG_HTML: `log-html`\r\n};\r\n\r\n/**\r\n * Viewtypes\r\n * @enum {string}\r\n */\r\nexport const ViewType = {\r\n  FUNCTION: `function`,\r\n  OBJECT: `object`,\r\n  ARRAY: `array`,\r\n  PRIMITIVE: `primitive`\r\n};\r\n\r\n/**\r\n * Console environment\r\n * @enum {string}\r\n */\r\nexport const Env = {\r\n  TEST: `test`\r\n};\r\n\r\n/**\r\n * Promise state\r\n * @enum {string}\r\n */\r\nexport const PromiseStatus = {\r\n  resolved: `resolved`,\r\n  rejected: `rejected`,\r\n  pending: `pending`\r\n};\r\n\r\n/**\r\n * @enum {string}\r\n */\r\nexport const WhereChangeHeaderOnExpand = {\r\n  ANY_DEPTH: `any-depth`,\r\n  ANY_DEPTH_EXCEPT_ROOT: `any-depth-except-root`\r\n};\r\n","/* eslint no-undefined: 0 */\r\n\r\n// import FunctionView from '../function/function-view';\r\nimport {Mode} from '../enums';\r\n\r\nconst Console = window.Console;\r\n\r\n// declare consts here\r\n//\r\n// const arr1 = [1, 2, 3];\r\n// const arr2 = [1, 2, 3];\r\n// arr2.test = 123;\r\n// const nestedArr = [1, 2, ``, [1, 2, ``]];\r\nconst str1 = `Here is console log`;\r\nconst str2 = `\r\n  Here is console log\r\n  sdadsda\r\nasddsd`;\r\nconst primitiveNumber = 123;\r\n// const currYearText = `current year: `;\r\n// const currYearDate = (new Date()).getFullYear();\r\n//\r\n// const arr3 = [\r\n//   {key1: `value1`},\r\n//   {key2: `value2`}\r\n// ];\r\n//\r\n// class Person {\r\n//   constructor(val) {\r\n//     if (val === 123) {\r\n//       this._bar = val;\r\n//     }\r\n//   }\r\n// }\r\n//\r\n// const arrowFn1 = (bar = 123) => {return 123;};\r\n// const arrowFn2 = (bar = 123) => {`sssssssssssssssssssssssssssssssssssssssss`};\r\n// const arrowFn3 = (bar = 123) => {`sssssssssssssssssssssssssssssssssssssssssss`};\r\n// function plainFn (bar456 = 123) {return 123;}\r\n// const exprFn = function (bar1 = 123) {return 123;}\r\n// const exprNamedFn = function named (bar2 = 123) {return 123;}\r\n//\r\n// const num = new Number(1)\r\n// const date = new Date();\r\n// const str = new String(`qwe`);\r\n//\r\n// const div = document.querySelector(`div`);\r\n//\r\n// const kot = {\r\n//   cat: {\r\n//     name: `Сергей Сергеевич`,\r\n//     kittens: [{\r\n//       name: `Иван Васильич`,\r\n//       kittens: [\r\n//         {name: `Пётр Иванович`}\r\n//       ]\r\n//     }]\r\n//   }\r\n// };\r\n//\r\n// class Cat {\r\n//   constructor(name, age = 0, male = true) {\r\n//     this.name = name;\r\n//     this.age = age;\r\n//     this.male = male;\r\n//   }\r\n//\r\n//   eat(food) {\r\n//     return `${this.name} ate ${food}`;\r\n//   }\r\n//\r\n//   meow() {\r\n//     return `Мяу!`;\r\n//   }\r\n// }\r\n//\r\n// const o1 = {};\r\n// o1.b = {o1: o1};\r\n// const o2 = {oo: 1, b: ``, arr1, arr2, nestedArr, e: {b: 1}, o1};\r\n// const o3 = {Person, arrowFn1, arrowFn2, arrowFn3, plainFn, exprFn, exprNamedFn};\r\n// const o4 = {num, str};\r\n//\r\n// const cat = new Cat(`Keks`, 2);\r\n// const err = new Error(`new Error`);\r\n// const errObjPlain = new Error(o3);\r\n// const errNum = new Error(num);\r\n// const typeErr = new TypeError(`new TypeError`);\r\n// const int8Arr = new Int8Array();\r\n// const reConstr = new RegExp(`regexpConstr`);\r\n// const reLiteral = /reLiteral/;\r\nconst sym = Symbol(`sym`);\r\n// const ab = new ArrayBuffer();\r\n\r\ndescribe(`Check primitives: `, () => {\r\n  const defaultMode = Mode.LOG;\r\n  const cons = new Console(document.body);\r\n  after(() => {\r\n    document.body.innerHTML = ``;\r\n  });\r\n  it(`any primitive has class \"item--primitive\"`, () => {\r\n    const primitiveEls = [\r\n      cons.createTypedView(str1, defaultMode).el,\r\n      cons.createTypedView(primitiveNumber, defaultMode).el,\r\n      cons.createTypedView(sym, defaultMode).el,\r\n      cons.createTypedView(NaN, defaultMode).el,\r\n      cons.createTypedView(null, defaultMode).el,\r\n      cons.createTypedView(true, defaultMode).el,\r\n      cons.createTypedView(undefined, defaultMode).el\r\n    ];\r\n    assert(primitiveEls.every((el) => {\r\n      return el.classList.contains(`item--primitive`);\r\n    }));\r\n  });\r\n  it(`string`, () => {\r\n    const el = cons.createTypedView(str1, defaultMode).el;\r\n    assert(\r\n        el.classList.contains(`item--primitive`) &&\r\n        el.classList.contains(`c-string`) &&\r\n        el.textContent === str1\r\n    );\r\n  });\r\n  it(`string in prop mode should contain nowrap class`, () => {\r\n    const el = cons.createTypedView(str1, Mode.PROP).el;\r\n    assert(\r\n        el.classList.contains(`item--primitive`) &&\r\n        el.classList.contains(`c-string`) &&\r\n        el.classList.contains(`nowrap`) &&\r\n        el.textContent === str1\r\n    );\r\n  });\r\n  it(`string in preview mode should contain nowrap class`, () => {\r\n    const el = cons.createTypedView(str1, Mode.PREVIEW).el;\r\n    assert(\r\n        el.classList.contains(`item--primitive`) &&\r\n        el.classList.contains(`c-string`) &&\r\n        el.classList.contains(`nowrap`) &&\r\n        el.textContent === str1\r\n    );\r\n  });\r\n  it(`multiline string`, () => {\r\n    const el = cons.createTypedView(str2, defaultMode).el;\r\n    assert(\r\n        el.classList.contains(`item--primitive`) &&\r\n        el.classList.contains(`c-string`) &&\r\n        str2.includes(el.textContent)\r\n    );\r\n  });\r\n  it(`number`, () => {\r\n    const el = cons.createTypedView(primitiveNumber, defaultMode).el;\r\n    assert(\r\n        el.classList.contains(`item--primitive`) &&\r\n        el.classList.contains(`c-number`) &&\r\n        el.textContent === primitiveNumber.toString()\r\n    );\r\n  });\r\n  it(`symbol`, () => {\r\n    const el = cons.createTypedView(sym, defaultMode).el;\r\n    assert(\r\n        el.classList.contains(`item--primitive`) &&\r\n        el.classList.contains(`c-symbol`) &&\r\n        el.textContent === sym.toString()\r\n    );\r\n  });\r\n  it(`NaN`, () => {\r\n    const el = cons.createTypedView(NaN, defaultMode).el;\r\n    assert(\r\n        el.classList.contains(`item--primitive`) &&\r\n        el.classList.contains(`c-number`) &&\r\n        el.textContent === `NaN`\r\n    );\r\n  });\r\n  it(`null`, () => {\r\n    const el = cons.createTypedView(null, defaultMode).el;\r\n    assert(\r\n        el.classList.contains(`item--primitive`) &&\r\n        el.classList.contains(`c-null`) &&\r\n        el.textContent === `null`\r\n    );\r\n  });\r\n  it(`boolean`, () => {\r\n    const el = cons.createTypedView(true, defaultMode).el;\r\n    assert(\r\n        el.classList.contains(`item--primitive`) &&\r\n        el.classList.contains(`c-boolean`) &&\r\n        el.textContent === `true`\r\n    );\r\n  });\r\n  it(`undefined`, () => {\r\n    const el = cons.createTypedView(undefined, defaultMode).el;\r\n    assert(\r\n        el.classList.contains(`item--primitive`) &&\r\n        el.classList.contains(`c-undefined`) &&\r\n        el.textContent === `undefined`\r\n    );\r\n  });\r\n});\r\n\r\n// describe(`Check functions: `, () => {\r\n// const cons = new Console(document.body);\r\n// after(() => {\r\n//   document.body.innerHTML = ``;\r\n// });\r\n//   const fnEls = [\r\n//     cons.createTypedView(arrowFn1, Mode.PREVIEW).el,\r\n//     cons.createTypedView(plainFn, Mode.PREVIEW).el,\r\n//     cons.createTypedView(exprFn, Mode.PREVIEW).el,\r\n//     cons.createTypedView(exprNamedFn, Mode.PREVIEW).el,\r\n//     cons.createTypedView(Person, Mode.PREVIEW).el\r\n//   ];\r\n//   it(`any function has class \"item_function\"`, () => {\r\n//     assert(fnEls.every((el) => {\r\n//       return el.classList.contains(`item_function`);\r\n//     }));\r\n//   });\r\n//   it(`any function in preview === \"f\"`, () => {\r\n//     assert(fnEls.every((el) => {\r\n//       return el.textContent === `f`;\r\n//     }));\r\n//   });\r\n//   it(`class dir and prop`, () => {\r\n//     const classEls = [\r\n//       cons.createTypedView(Person, Mode.DIR).el,\r\n//       cons.createTypedView(Person, Mode.PROP).el\r\n//     ];\r\n//     assert(classEls.every((el) => {\r\n//       return el.textContent.startsWith(`class ${Person.name}`);\r\n//     }));\r\n//   });\r\n// });\r\n"],"names":[],"mappings":"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"}